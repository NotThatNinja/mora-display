---
// Timeline data
const timelineData = [
  {
    "year": "2005",
    "description": "In this year, we initiated our journey with a foundational project in Italy: Established MORADISPLAY in Milano."
  },
  {
    "year": "2008",
    "description": "This year marked several high-profile interior design and construction projects: Hyosung Milano, branch interior design and construction; Hyundai Milano, branch interior design and construction; Korean Air Line in Milano, office furniture design and install; KOSHI KOBAN in Milano, branch interior design and construction."
  },
  {
    "year": "2009",
    "description": "We expanded into numerous international exhibitions and booth constructions: MIDO in Milano, SILMO in Paris, LuxePack in Monaco, MadeF in Milano, Salone del Mobile in Milano, Cosmopack.prof. in Bologna, Enersol in Milano, MEDICA in Düsseldorf."
  },
  {
    "year": "2010",
    "description": "This year, we expanded our base to Korea: Established MORADISPLAY in Korea."
  },
  {
    "year": "2011",
    "description": "We led several design and booth construction projects across Europe: MIDO in Milano, Cosmopack.prof. in Bologna (KOREAN PAVILION and individual booths), SILMO in Paris, Fotovoltaic in Valencia, HOTEL in Venezia, ICT Roadshow in Milano, Korea preview in Milano, Passion show installation management."
  },
  {
    "year": "2012",
    "description": "Continued success in pavilion and display booth construction: MIDO in Milano, Cosmopack.prof. in Bologna, CPHI in Spain (Dowachem), OUTDOOR in Friedrichshafen, ESCR in Milano, Korea preview in Milano (Ecofriendly stand), SILMO in Paris, Premiere Vision in Paris."
  },
  {
    "year": "2013",
    "description": "This year we emphasized sustainable and ecofriendly booths: ISPO in Munchen, MIDO in Milano, Cosmopack.prof. in Bologna, Korea preview in Milano, SILMO in Paris, Premiere Vision in Paris, FABRICSTART in Munchen, OUTDOOR in Friedrichshafen."
  },
  {
    "year": "2014",
    "description": "We took part in numerous global exhibitions with innovative booth designs: ISPO in Munchen, MIDO in Milano, Cosmopack.prof. in Bologna, Korean Pavilion in Frankfurt and Spain, EMO in Milano, IDS in Köln, MEDICA in Düsseldorf, SILMO in Paris, FABRICSTART in Munchen."
  },
  {
    "year": "2015",
    "description": "A dynamic year of design, exhibitions, and pavilion construction: ISPO in Munchen, MIDO in Milano, FABRICSTART in Munchen, AMWC in Monte Carlo, Cosmoprof. in Bologna, ACHEMA in Frankfurt, OUTDOOR in Friedrichshafen, ADF CONGRESS in Paris, UNICA MILANO, IFMA in Monaco."
  },
  {
    "year": "2016",
    "description": "We participated in several exhibitions across Europe and Asia: ISPO in Munchen, UNICA MILANO, MIDO in Milano, Cosmopack.prof. in Bologna, AMWC in Monte Carlo, ECR in Vienna, SMM in Hamburg, BAUMA in Munchen, EASD in Munchen, WCN in Kyoto, ISUOG in Roma, SILMO in Paris, EUROSPINE in Berlin, CPHI in Barcelona, MEDICA in Düsseldorf, UVHVS in Firenze."
  },
  {
    "year": "2017",
    "description": "We supported medical, industrial, and tech-focused exhibitions: ISPO in Munchen, MIDO in Milano, Cosmopack.prof. in Bologna, IDS in Köln, AMWC in Monte Carlo, EWMA in Netherlands, OUTDOOR in Friedrichshafen, EASD in Lisbon, EMO in Hannover, ESCRS in Lisbon, EUROSPINE in Dublin, Sopra della Corea in Milano, CPHI world symposium in Barcelona, CPHI in Frankfurt, MEDICA in Düsseldorf, VIE and MAD in Düsseldorf, WHITE Show in Milano, Taste of Korea in Napoli."
  },
  {
    "year": "2018",
    "description": "Our projects extended to cultural, fashion, and food-related events: ISPO in Munchen, AMBIENTE in Frankfurt, MIDO in Milano, Cosmopack.prof. in Bologna, ECR in Vienna, BOOKFAIR in Leipzig, SILMO in Paris, AMWC in Monte Carlo."
  }
];

import { Image } from 'astro:assets';
import logoGray from '../assets/logo-gray.png';
---

<section class="timeline" id="timeline">
  <div class="timeline-background">
    <Image src={logoGray} alt="" class="bg-logo" />
  </div>
  <div class="container">
    <div class="section-with-vertical-header">
      <div class="vertical-header">
        <h2 class="vertical-title">PROJECT</h2>
        <div class="vertical-line"></div>
      </div>
      <div class="timeline-content">
        <div class="timeline-navigation">
          <button class="timeline-nav-btn" id="prevBtn" aria-label="Previous year">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <div class="timeline-track">
            <div class="timeline-line"></div>
            <div class="timeline-years">
              {timelineData.map((item, index) => (
                <div class="timeline-year-item" data-index={index}>
                  <div class="timeline-dot"></div>
                  <button class="timeline-year-btn" data-year={item.year}>
                    {item.year}
                  </button>
                </div>
              ))}
            </div>
          </div>
          <button class="timeline-nav-btn" id="nextBtn" aria-label="Next year">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
        <p class="timeline-detail-description">In this year, we initiated our journey with a foundational project in Italy: Established MORADISPLAY in Milano.</p>
      </div>
    </div>
  </div>
</section>

<script>
  const timelineData = [
    {
      "year": "2005",
      "description": "In this year, we initiated our journey with a foundational project in Italy: Established MORADISPLAY in Milano."
    },
    {
      "year": "2008",
      "description": "This year marked several high-profile interior design and construction projects: Hyosung Milano, branch interior design and construction; Hyundai Milano, branch interior design and construction; Korean Air Line in Milano, office furniture design and install; KOSHI KOBAN in Milano, branch interior design and construction."
    },
    {
      "year": "2009",
      "description": "We expanded into numerous international exhibitions and booth constructions: MIDO in Milano, SILMO in Paris, LuxePack in Monaco, MadeF in Milano, Salone del Mobile in Milano, Cosmopack.prof. in Bologna, Enersol in Milano, MEDICA in Düsseldorf."
    },
    {
      "year": "2010",
      "description": "This year, we expanded our base to Korea: Established MORADISPLAY in Korea."
    },
    {
      "year": "2011",
      "description": "We led several design and booth construction projects across Europe: MIDO in Milano, Cosmopack.prof. in Bologna (KOREAN PAVILION and individual booths), SILMO in Paris, Fotovoltaic in Valencia, HOTEL in Venezia, ICT Roadshow in Milano, Korea preview in Milano, Passion show installation management."
    },
    {
      "year": "2012",
      "description": "Continued success in pavilion and display booth construction: MIDO in Milano, Cosmopack.prof. in Bologna, CPHI in Spain (Dowachem), OUTDOOR in Friedrichshafen, ESCR in Milano, Korea preview in Milano (Ecofriendly stand), SILMO in Paris, Premiere Vision in Paris."
    },
    {
      "year": "2013",
      "description": "This year we emphasized sustainable and ecofriendly booths: ISPO in Munchen, MIDO in Milano, Cosmopack.prof. in Bologna, Korea preview in Milano, SILMO in Paris, Premiere Vision in Paris, FABRICSTART in Munchen, OUTDOOR in Friedrichshafen."
    },
    {
      "year": "2014",
      "description": "We took part in numerous global exhibitions with innovative booth designs: ISPO in Munchen, MIDO in Milano, Cosmopack.prof. in Bologna, Korean Pavilion in Frankfurt and Spain, EMO in Milano, IDS in Köln, MEDICA in Düsseldorf, SILMO in Paris, FABRICSTART in Munchen."
    },
    {
      "year": "2015",
      "description": "A dynamic year of design, exhibitions, and pavilion construction: ISPO in Munchen, MIDO in Milano, FABRICSTART in Munchen, AMWC in Monte Carlo, Cosmoprof. in Bologna, ACHEMA in Frankfurt, OUTDOOR in Friedrichshafen, ADF CONGRESS in Paris, UNICA MILANO, IFMA in Monaco."
    },
    {
      "year": "2016",
      "description": "We participated in several exhibitions across Europe and Asia: ISPO in Munchen, UNICA MILANO, MIDO in Milano, Cosmopack.prof. in Bologna, AMWC in Monte Carlo, ECR in Vienna, SMM in Hamburg, BAUMA in Munchen, EASD in Munchen, WCN in Kyoto, ISUOG in Roma, SILMO in Paris, EUROSPINE in Berlin, CPHI in Barcelona, MEDICA in Düsseldorf, UVHVS in Firenze."
    },
    {
      "year": "2017",
      "description": "We supported medical, industrial, and tech-focused exhibitions: ISPO in Munchen, MIDO in Milano, Cosmopack.prof. in Bologna, IDS in Köln, AMWC in Monte Carlo, EWMA in Netherlands, OUTDOOR in Friedrichshafen, EASD in Lisbon, EMO in Hannover, ESCRS in Lisbon, EUROSPINE in Dublin, Sopra della Corea in Milano, CPHI world symposium in Barcelona, CPHI in Frankfurt, MEDICA in Düsseldorf, VIE and MAD in Düsseldorf, WHITE Show in Milano, Taste of Korea in Napoli."
    },
    {
      "year": "2018",
      "description": "Our projects extended to cultural, fashion, and food-related events: ISPO in Munchen, AMBIENTE in Frankfurt, MIDO in Milano, Cosmopack.prof. in Bologna, ECR in Vienna, BOOKFAIR in Leipzig, SILMO in Paris, AMWC in Monte Carlo."
    }
  ];


  let currentIndex = 0;

  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  const yearButtons = document.querySelectorAll('.timeline-year-btn');
  const descriptionElement = document.querySelector('.timeline-detail-description');
  const timelineTrack = document.querySelector('.timeline-track');
  const timelineLine = document.querySelector('.timeline-line');

  function updateContent(index) {
    // Make timeline line correct length
    timelineLine.style.width = timelineTrack?.scrollWidth + 'px';

    const item = timelineData[index];
    descriptionElement.textContent = item.description;
    
    // Update active state
    yearButtons.forEach((btn, i) => {
      btn.classList.toggle('active', i === index);
      btn.parentElement.classList.toggle('active', i === index);
    });
    
    // Update navigation buttons
    prevBtn.disabled = index === 0;
    nextBtn.disabled = index === timelineData.length - 1;
  }

  function goToIndex(index) {
    if (index >= 0 && index < timelineData.length) {
      currentIndex = index;
      updateContent(currentIndex);
      timelineTrack.scrollLeft = (currentIndex * (timelineTrack.scrollWidth / timelineData.length)) - (timelineTrack.clientWidth / 2);
    }
  }

  // Navigation buttons
  prevBtn.addEventListener('click', () => {
    goToIndex(currentIndex - 1);
  });

  nextBtn.addEventListener('click', () => {
    goToIndex(currentIndex + 1);
  });

  // Year buttons
  yearButtons.forEach((btn, index) => {
    btn.addEventListener('click', () => {
      goToIndex(index);
    });
  });

  // Initialize
  updateContent(0);
</script>

<style>
  .timeline {
    padding: 6rem 0;
    background: var(--bg-dark);
    position: relative;
  }

  .timeline-content {
    position: relative;
    z-index: 2;
  }

  .timeline-navigation {
    display: flex;
    align-items: center;
    gap: 2rem;
    margin-bottom: 3rem;
  }

  .timeline-nav-btn {
    background: var(--primary-orange);
    border: none;
    color: white;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .timeline-nav-btn:hover:not(:disabled) {
    background: #e55a2b;
    transform: scale(1.1);
  }

  .timeline-nav-btn:disabled {
    background: #666;
    cursor: not-allowed;
    transform: none;
  }

  .timeline-track {
    flex: 1;
    position: relative;
    height: 60px;
    overflow-x: scroll;
    width: 50vw;
  }

  .timeline-line {
    position: absolute;
    top: 30px;
    left: 0;
    height: 2px;
    background: white;
  }

  .timeline-years {
    display: flex;
    justify-content: space-between;
    position: relative;
    height: 100%;
  }

  .timeline-year-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
  }

  .timeline-year-item.active .timeline-dot {
    background: var(--primary-orange);
    transform: scale(1.2);
  }

  .timeline-year-item.active .timeline-year-btn {
    color: var(--primary-orange);
    font-weight: 600;
  }

  .timeline-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: white;
    position: absolute;
    top: 24px;
    transition: all 0.3s ease;
  }

  .timeline-year-btn {
    background: none;
    border: none;
    color: white;
    font-size: 1rem;
    cursor: pointer;
    padding: 0.25rem;
    transition: color 0.3s ease;
  }

  .timeline-year-btn:hover {
    color: var(--primary-orange);
  }

  .timeline-details {
    background: rgba(255, 255, 255, 0.05);
    padding: 2rem;
    border-radius: 10px;
    border-left: 4px solid var(--primary-orange);
  }

  .timeline-detail-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--text-white);
    margin-bottom: 1rem;
  }

  .timeline-detail-description {
    font-size: 1.1rem;
    color: var(--text-gray);
    line-height: 1.6;
  }

  @media (max-width: 768px) {
    .timeline {
      padding: 4rem 0;
    }

    .timeline-navigation {
      gap: 1rem;
    }

    .timeline-nav-btn {
      width: 35px;
      height: 35px;
    }

    .timeline-years {
      gap: 1rem;
    }

    .timeline-year-btn {
      font-size: 0.8rem;
      padding: 0.25rem;
    }

    .timeline-details {
      padding: 1.5rem;
    }

    .timeline-detail-title {
      font-size: 1.2rem;
    }

    .timeline-detail-description {
      font-size: 1rem;
    }
  }
</style>